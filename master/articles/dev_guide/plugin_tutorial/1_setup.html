<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Setting up the development environment </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Setting up the development environment ">
    <meta name="generator" content="docfx 2.47.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="docfx:urlPrefix" content="/bepinex_docs/">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
              <div class="version-selector" style="display: none;">
                <span>Version:</span>
                <form>
                    <select class="versions-dropdown"></select>
                </form>
              </div>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container-fluid body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-9">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="setting-up-the-development-environment">Setting up the development environment</h1>

<p>Writing BepInEx plugins starts with creation of the code projects.
In this guide, we will be using <a href="https://visualstudio.microsoft.com/">Visual Studio</a> to create our plugins.</p>
<h2 id="creating-a-solution">Creating a solution</h2>
<p>First, we'll create a new solution in Visual Studio.<br>
Open up Visual Studio and select <code>File &gt; New &gt; Project</code>:</p>
<p><img src="images/vs-new-plugin.png" alt="New project dialog in Visual Studio"></p>
<p>From there, select <code>C# &gt; Class Library</code> as the target project.
You might now notice that there are multiple <code>Class Library</code> templates: one for .NET Standard, one for .NET Framework and some other ones.<br>
The one you select <em>depends on the game and on the plugin you're trying to create</em>.</p>
<p>In essence, select <em>Class Library (.NET Standard)</em> if the game you're targeting has <code>netstandard.dll</code> present in its <code>&lt;GameName&gt;_Data\Managed</code> folder.<br>
Otherwise, select <em>Class Library (.NET Framework)</em>.</p>
<p>Next, fill in the details of your plugin (name, project location).</p>
<p>If you have selected <em>Class Library (.NET Framework)</em> as the project type, you will also notice the <code>Framework</code> option.
This option specifies the version of the .NET Framework that the plugin will be compiled against.<br>
Different Unity may require you to use different .NET Framework versions. As a rule of thumb, you can use .NET Framework 3.5 in all Unity games, but you will get the least API available. In order to determine the exact version of .NET Framework to use, check the file version of <code>mscorlib.dll</code> in <code>&lt;GameName&gt;_Data\Managed</code> folder: if it's <code>4.0.0.0</code> or newer, you can target .NET Framework 4.x (usually 4.6).</p>
<div class="NOTE">
<h5>Note</h5>
<p>Technically, it is possible to target both .NET Standard and .NET Framework games with a single build, but there are a lot of considerations to take into account.
Refer to <a class="xref" href="../../advanced/dotnet_profiles.html">explanation of different .NET profiles in Unity</a> for more information.</p>
</div>
<p>In the case of this test plugin, we'll be writing a plugin for <a href="https://store.steampowered.com/app/632360/Risk_of_Rain_2/">Risk of Rain 2</a>.<br>
Since Risk of Rain 2 is a .NET Standard game (i.e. there is <code>netstandard.dll</code> in <code>Risk of Rain 2_Data\Managed</code> folder), we will choose <em>Class Library (.NET Standard)</em> as the template.</p>
<p>Press OK, which will create the solution folder and the main C# project.</p>
<h2 id="gathering-dll-dependencies">Gathering DLL dependencies</h2>
<p>Before diving into programming, we need to import any DLLs that we will be using.</p>
<p>First, head over to the folder you created your solution in. It should look like this:</p>
<p><img src="images/plugin-folder.png" alt="A basic structure of the plugin folder"></p>
<div class="TIP">
<h5>Tip</h5>
<p>If you forgot the location of the solution, you can right click on the solution file in Visual Studio and select <code>Open Folder in File Explorer</code>:
<img src="images/vs-open-solution.png" alt="Open Folder in File Explorer in Visual Studio"></p>
</div>
<p>Next, create a <code>Libs</code> folder in the solution folder. That folder will contain all the required DLLs that this project will depend on.</p>
<p>Find and copy the following DLLs into the folder:</p>
<ul>
<li><code>BepInEx.dll</code>: found in <code>BepInEx\core</code> folder (you can download BepInEx as per the <a class="xref" href="../../user_guide/installation.html">installation instructions</a>)</li>
<li><code>UnityEngine.dll</code> (and <code>UnityEngine.CoreModule.dll</code> if needed): found in the game's <code>&lt;Game Name&gt;_Data\Managed</code> folder</li>
<li>(Optional) Any additional DLLs and dependencies you think you need (you can always add more DLLs later)
<ul>
<li><code>Assembly-CSharp.dll</code> contains game-specific code</li>
<li><code>0Harmony.dll</code> and <code>BepInEx.Harmony.dll</code> allow to patch methods while the game is running. Refer to <a href="https://github.com/pardeike/Harmony/wiki">Harmony wiki</a> for more details.</li>
</ul>
</li>
</ul>
<p>In the end, your <code>Libs</code> folder might look something like this (<strong>for example</strong>):</p>
<p><img src="images/libs-folder.png" alt="An example of the Libs folder"></p>
<div class="WARNING">
<h5>Warning</h5>
<p>If you are planning on publishing the source code, do not include the DLLs in the <code>Libs</code> folder.<br>
Not only is it unnecessary, but <code>Assembly-CSharp.dll</code> contains game code, which technically is illegal to share without an explicit permission from the game developers.</p>
<p>If you absolutely must include the DLLs, it is suggested to remove the code and only distribute the API contents.</p>
</div>
<h2 id="importing-dll-dependencies-into-the-project">Importing DLL dependencies into the project</h2>
<p>Finally, open your solution in Visual Studio. In there, right click on the <code>Dependencies</code> item in the Solution Explorer (or <code>References</code> if your project is based on .NET Framework) and select <code>Add Reference...</code>:</p>
<p><img src="images/vs-add-references.png" alt="Add References option when you right click the Dependencies in Solution Explorer"></p>
<p>In the opened Reference Manager, click the <code>Browse...</code> button, locate and select <em>all</em> assemblies in <code>Libs</code> folder and click <code>Add</code>.<br>
Finally, click OK to close the Reference Manager and you will have all your dependencies imported:</p>
<p><img src="images/vs-references.png" alt="A list of finally properly imported references"></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/BepInEx/bepinex_docs/blob/786b196dd26ed7e5ebcc5053d107032ccfe8eefe/articles/dev_guide/plugin_tutorial/1_setup.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
